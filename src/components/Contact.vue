<template>
    <section class="md:mt-12">
        <div class="bg-cover bg-bottom flex lg:flex-row min-h-dvh flex-col rounded-xl bg-gradient-to-t from-[#fff0e3] via-[#f0e3ff]  ">
            <div class="lg:w-2/3 py-12 md:py-24 px-8 md:px-12 bg-fuchsia-50 bg-opacity-10 backdrop-blur-md">
                    <h1 class="text-5xl mb-8 italic" style="font-family:'Stardom', serif;">Let's get in touch</h1>
                    <p>I'm always excited to connect with new people and explore creative opportunities. Whether you have a project in mind, want to collaborate, or just want to say hello, I'd love to hear from you.</p>
                    <ul class="mt-10 space-y-6 space-x-0">
                        <li class="flex items-center space-x-2 w-fit">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 30 30" class="size-10 bg-white p-1 rounded-full">
                                <path d="M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"></path>
                            </svg>
                            <a href="https://github.com/EmilySelge">Github</a>
                        </li>
                        <li class="flex items-center space-x-2 w-fit">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 50 50" class="size-10 bg-white p-1 rounded-full">
                                <path d="M 25 3 C 12.861562 3 3 12.861562 3 25 C 3 36.019135 11.127533 45.138355 21.712891 46.728516 L 22.861328 46.902344 L 22.861328 29.566406 L 17.664062 29.566406 L 17.664062 26.046875 L 22.861328 26.046875 L 22.861328 21.373047 C 22.861328 18.494965 23.551973 16.599417 24.695312 15.410156 C 25.838652 14.220896 27.528004 13.621094 29.878906 13.621094 C 31.758714 13.621094 32.490022 13.734993 33.185547 13.820312 L 33.185547 16.701172 L 30.738281 16.701172 C 29.349697 16.701172 28.210449 17.475903 27.619141 18.507812 C 27.027832 19.539724 26.84375 20.771816 26.84375 22.027344 L 26.84375 26.044922 L 32.966797 26.044922 L 32.421875 29.564453 L 26.84375 29.564453 L 26.84375 46.929688 L 27.978516 46.775391 C 38.71434 45.319366 47 36.126845 47 25 C 47 12.861562 37.138438 3 25 3 z M 25 5 C 36.057562 5 45 13.942438 45 25 C 45 34.729791 38.035799 42.731796 28.84375 44.533203 L 28.84375 31.564453 L 34.136719 31.564453 L 35.298828 24.044922 L 28.84375 24.044922 L 28.84375 22.027344 C 28.84375 20.989871 29.033574 20.060293 29.353516 19.501953 C 29.673457 18.943614 29.981865 18.701172 30.738281 18.701172 L 35.185547 18.701172 L 35.185547 12.009766 L 34.318359 11.892578 C 33.718567 11.811418 32.349197 11.621094 29.878906 11.621094 C 27.175808 11.621094 24.855567 12.357448 23.253906 14.023438 C 21.652246 15.689426 20.861328 18.170128 20.861328 21.373047 L 20.861328 24.046875 L 15.664062 24.046875 L 15.664062 31.566406 L 20.861328 31.566406 L 20.861328 44.470703 C 11.816995 42.554813 5 34.624447 5 25 C 5 13.942438 13.942438 5 25 5 z"></path>
                            </svg>
                            <a href="https://www.facebook.com/profile.php?id=100085167975826">Facebook</a>
                        </li>
                        <li class="flex items-center space-x-2 w-fit">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50 " class="size-10 bg-white p-1 rounded-full">
                                <path d="M 25 2 C 12.309295 2 2 12.309295 2 25 C 2 37.690705 12.309295 48 25 48 C 37.690705 48 48 37.690705 48 25 C 48 12.309295 37.690705 2 25 2 z M 25 4 C 36.609824 4 46 13.390176 46 25 C 46 36.609824 36.609824 46 25 46 C 13.390176 46 4 36.609824 4 25 C 4 13.390176 13.390176 4 25 4 z M 16 12 C 14.35499 12 13 13.35499 13 15 C 13 16.64501 14.35499 18 16 18 C 17.64501 18 19 16.64501 19 15 C 19 13.35499 17.64501 12 16 12 z M 16 14 C 16.564129 14 17 14.435871 17 15 C 17 15.564129 16.564129 16 16 16 C 15.435871 16 15 15.564129 15 15 C 15 14.435871 15.435871 14 16 14 z M 14 19 A 1.0001 1.0001 0 0 0 13 20 L 13 35 A 1.0001 1.0001 0 0 0 14 36 L 18 36 A 1.0001 1.0001 0 0 0 19 35 L 19 20 A 1.0001 1.0001 0 0 0 18 19 L 14 19 z M 22 19 A 1.0001 1.0001 0 0 0 21 20 L 21 35 A 1.0001 1.0001 0 0 0 22 36 L 26 36 A 1.0001 1.0001 0 0 0 27 35 L 27 27.5 C 27 26.120455 28.120455 25 29.5 25 C 30.879545 25 32 26.120455 32 27.5 L 32 30 L 32 35 A 1.0001 1.0001 0 0 0 33 36 L 37 36 A 1.0001 1.0001 0 0 0 38 35 L 38 26.5 C 38 22.36961 34.63039 19 30.5 19 C 29.213528 19 28.059744 19.41615 27 19.990234 A 1.0001 1.0001 0 0 0 26 19 L 22 19 z M 15 21 L 17 21 L 17 34 L 15 34 L 15 21 z M 23 21 L 25 21 L 25 21.816406 A 1.0001 1.0001 0 0 0 26.693359 22.537109 C 27.684186 21.585305 29.016683 21 30.5 21 C 33.54961 21 36 23.45039 36 26.5 L 36 34 L 34 34 L 34 30 L 34 27.5 C 34 25.029545 31.970455 23 29.5 23 C 27.029545 23 25 25.029545 25 27.5 L 25 34 L 23 34 L 23 21 z"></path>
                            </svg>
                            <a href="https://www.linkedin.com/in/emily-selge-059983339/">LinkedIn</a>
                        </li>
                
                    </ul>

            
            </div>
            <div class="lg:w-1/3 p-6 lg:py-16 md:px-12 rounded-xl h-fit md:mt-12 bg-white shadow mx-4 md:mx-12">
                <form @submit.prevent="handleSubmit" class="">
                    <div class="mb-4">
                      <label for="name" class="block mb-2">Name</label>
                      <input id="name" v-model="formData.name" type="text" required class="w-full p-2 border border-black rounded"/>
                    </div>

                    <div class="mb-4">
                      <label for="email" class="block mb-2">Email</label>
                      <input id="email" v-model="formData.email" type="email" required class="w-full p-2 border border-black rounded"/>
                    </div>

                    <div class="mb-4">
                      <label for="message" class="block mb-2">Message</label>
                      <textarea id="message" v-model="formData.message" required class="w-full p-2 border border-black rounded" rows="4" ></textarea>
                    </div>

                    <button type="submit" :disabled="loading" class="bg-black text-sm shadow text-white px-4 py-2 rounded mt-2 duration-500 disabled:opacity-50">
                      {{ loading ? 'Sending...' : 'Send Message' }}
                    </button>

                    <div v-if="status" :class="['mt-4', status.error ? 'text-red-500' : 'text-green-500']">
                      {{ status.message }}
                    </div>
                </form>
            </div>
        </div>
        
    </section>
    
</template>

<script>
import emailjs from '@emailjs/browser';

export default {
  name: 'ContactForm',
  data() {
    return {
      formData: {
        name: '',
        email: '',
        message: ''
      },
      loading: false,
      status: null
    };
  },

  mounted() {
    emailjs.init(import.meta.env.VITE_EMAILJS_PUBLIC_KEY);
  },

  methods: {
    async handleSubmit() {
      this.loading = true;
      this.status = null;
      
      try {
        await emailjs.send(
          import.meta.env.VITE_EMAILJS_SERVICE_ID,
          import.meta.env.VITE_EMAILJS_TEMPLATE_ID,
          {
            from_name: this.formData.name,
            from_email: this.formData.email,
            message: this.formData.message,
          },
          import.meta.env.VITE_EMAILJS_USER_ID
        );

        this.status = {
          error: false,
          message: 'Message sent successfully!'
        };

        // Reset form
        this.formData = {
          name: '',
          email: '',
          message: ''
        };
      } catch (error) {
        console.error('Error:', error);
        this.status = {
          error: true,
          message: 'Failed to send message. Please try again.'
        };
      } finally {
        this.loading = false;
      }
    }
  }
};
</script>
